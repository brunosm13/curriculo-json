<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="Currículo Online">
		<meta name="author" content="Bruno Silva Macário">

		<title>Bruno Silva Macário - Currículo</title>

		<!-- Principal CSS do Bootstrap -->
		<link href="./css/bootstrap.min.css" rel="stylesheet">
	
		<!-- Fonte da Google -->
		<link href="https://fonts.googleapis.com/css?family=Alata&amp;display=swap" rel="stylesheet"> 
		<link href="https://fonts.googleapis.com/css?family=Zilla+Slab&amp;display=swap" rel="stylesheet">
		
		<!-- Ícone da aba do navegador -->
		<link rel="icon" href="./img/google_docs_icon_131691.svg">
	</head>
  
	<body class="text-justify texto-padrao">
		<header id="cabecalhoSite" class="m-3 d-print-none">
		</header>
		
		<main id="conteudoSite" class="mr-0 ml-0 mt-0">
		</main>

		<footer class="ml-3 text-center d-print-none" id="rodapeSite">
		</footer>
		
		<script src="./js/jquery-3.3.1.slim.min.js"></script>
		<script src="./js/bootstrap.bundle.min.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		
		<script id="execute-json" type="module">
			import Util from '/util/Util.js'; // precisa importar sempre que utilizar na página
			import HtmlBootstrap from '/util/HtmlBootstrap.js'; // precisa importar sempre que utilizar na página
			import CurriculoView from '/page/curriculo/';

			// Página do curriculo
			const curriculoView= new CurriculoView(); // Carrega os componentes iniciais da página

			//Carrega componentes e informações da página
			document.addEventListener('DOMContentLoaded', function() {
				// Promise.all é utilizado quando há mais de duas chamadas ao mesmo tempo
				Promise.all([
					fetch('api/curriculo').then(response => response.json()),
					fetch('api/fonte').then(response => response.json())
				])
				.then(([dadosPessoa, fonteConfig]) => {
					// carrega os dados do curriculo.json
					curriculoView.carregarCurriculo(dadosPessoa);
					// carrega as configurações do fonte-config.json
					curriculoView.alterarEstilo(fonteConfig);
				})
				.catch(error => {
					console.error('Erro ao carregar os dados:', error);
				});
			});
		</script>
 
	</body>
</html>